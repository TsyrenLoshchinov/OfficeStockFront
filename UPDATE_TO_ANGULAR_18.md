# Обновление до Angular 18 для поддержки Node.js 22

## Что было обновлено

### Зависимости в package.json

**Angular пакеты обновлены до версии 18.0.0:**
- `@angular/animations`: ^17.0.0 → ^18.0.0
- `@angular/common`: ^17.0.0 → ^18.0.0
- `@angular/compiler`: ^17.0.0 → ^18.0.0
- `@angular/core`: ^17.0.0 → ^18.0.0
- `@angular/forms`: ^17.0.0 → ^18.0.0
- `@angular/platform-browser`: ^17.0.0 → ^18.0.0
- `@angular/platform-browser-dynamic`: ^17.0.0 → ^18.0.0
- `@angular/router`: ^17.0.0 → ^18.0.0

**Dev зависимости:**
- `@angular-devkit/build-angular`: ^17.0.0 → ^18.0.0
- `@angular/cli`: ^17.0.0 → ^18.0.0
- `@angular/compiler-cli`: ^17.0.0 → ^18.0.0
- `@types/node`: ^20.0.0 → ^22.0.0 (для поддержки Node.js 22)
- `typescript`: ~5.2.0 → ~5.4.0 (совместимость с Angular 18)

## Шаги для обновления

1. **Удалите старые зависимости:**
   ```bash
   rm -rf node_modules package-lock.json
   ```
   Или на Windows:
   ```powershell
   Remove-Item -Recurse -Force node_modules, package-lock.json
   ```

2. **Установите обновленные зависимости:**
   ```bash
   npm install
   ```

3. **Проверьте версию Node.js:**
   ```bash
   node --version
   ```
   Должна быть версия 22.x.x

4. **Запустите приложение:**
   ```bash
   npm start
   ```

## Совместимость

- ✅ **Node.js 22** — полностью поддерживается
- ✅ **Angular 18** — последняя стабильная версия
- ✅ **TypeScript 5.4** — совместим с Angular 18
- ✅ **Standalone Components** — поддерживаются в Angular 18

## Возможные проблемы и решения

### Проблема: Ошибки при установке зависимостей

**Решение:** Убедитесь, что используете Node.js 22:
```bash
node --version
```

Если версия ниже, обновите Node.js до версии 22.

### Проблема: Конфликты версий

**Решение:** Очистите кэш npm и переустановите:
```bash
npm cache clean --force
npm install
```

### Проблема: Ошибки компиляции TypeScript

**Решение:** Убедитесь, что TypeScript обновлен до версии 5.4+:
```bash
npm list typescript
```

## Что нового в Angular 18

- Улучшенная поддержка Node.js 22
- Оптимизация производительности сборки
- Улучшенная поддержка Standalone Components
- Обновленные типы TypeScript
- Упрощенная конфигурация сборки (удалены устаревшие опции `buildOptimizer` и `vendorChunk`)

## Проверка работоспособности

После обновления проверьте:

1. ✅ Приложение запускается без ошибок
2. ✅ Страница авторизации отображается корректно
3. ✅ Загрузка чеков работает
4. ✅ Роутинг функционирует правильно

Если возникнут проблемы, проверьте консоль браузера и терминал на наличие ошибок.

