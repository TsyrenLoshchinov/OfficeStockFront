<!-- Overlay для затемнения фона -->
<div 
  class="sidebar-overlay" 
  *ngIf="isOpen"
  (click)="closeSidebar()"
  [attr.aria-hidden]="!isOpen">
</div>

<aside class="sidebar" [attr.data-open]="isOpen">
  <div class="left-bar">
    <button 
      class="menu-button" 
      [class.menu-button--active]="isOpen"
      [class.menu-button--default]="!isOpen"
      type="button" 
      (click)="toggleSidebar()"
      [attr.aria-pressed]="isOpen" 
      aria-controls="sidebar-panel">
      <span class="menu-button__icon menu-button__icon--close" aria-hidden="true">
        <img src="assets/icons/closeMenu.svg" alt="Закрыть меню">
      </span>
      <span class="menu-button__icon menu-button__icon--burger" aria-hidden="true">
        <img src="assets/icons/burgerDefault.svg" alt="Открыть меню">
      </span>
      <span class="menu-button__label">МЕНЮ</span>
    </button>

    <div class="sidebar__logo-collapsed" aria-hidden="true">
      <img src="assets/icons/logoMenu.png" alt="" width="34" height="45">
    </div>

    <button class="exitIcon" (click)="logout()" aria-label="Выход">
      <svg width="40" height="39" viewBox="0 0 40 39" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M14.1936 26.1087V37.846H38.7353V0.5H14.1936V12.2373" stroke="#DBDCE4"/>
        <path d="M14.1936 26.1087V37.846H38.7353V0.5H14.1936V12.2373" stroke="black" stroke-opacity="0.2"/>
        <path d="M26.0687 18.8333H0.735352M0.735352 18.8333L8.12424 26.2222M0.735352 18.8333L8.12424 12.5" stroke="#DBDCE4"/>
        <path d="M26.0687 18.8333H0.735352M0.735352 18.8333L8.12424 26.2222M0.735352 18.8333L8.12424 12.5" stroke="black" stroke-opacity="0.2"/>
      </svg>
    </button>
  </div>

  <div class="sidebar__panel" id="sidebar-panel" aria-hidden="true">
    <div class="sidebar__logo">
      <span>Навигация</span>
    </div>

    <nav class="sidebar__nav" aria-label="Главное меню">
      <a 
        *ngFor="let item of filteredMenuItems"
        [routerLink]="item.route"
        routerLinkActive="sidebar__nav-item--active"
        [routerLinkActiveOptions]="item.route === '/app' ? {exact: true} : {exact: false}"
        class="sidebar__nav-item"
        (click)="closeSidebar()">
        <span class="sidebar__nav-title">{{ item.label }}</span>
      </a>
    </nav>
  </div>
</aside>

